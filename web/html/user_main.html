<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>


	<link rel="stylesheet" href="../css/bootstrap.min.css" />
	<link rel="stylesheet" href="../css/font-awesome.min.css" />
	<link rel="stylesheet" href="../css/platform.css" />
	<script type="text/javascript" src="../js/jquery.min.js" ></script>
	<script type="text/javascript" src="../js/bootstrap.min.js" ></script>

	<script type="text/javascript">


        var login = false;

        var uid;
        var username;
        var info;

        var like = 0;
        var user_id;

        var cur_type = "all";

//        用于喜欢评论、文章时 数据库中没有对应的username字段，方便一点
        var user_name;

        function updateFollow() {
            if (uid == undefined || uid == 0 ) {
                return ;
            }

            $.ajax({
                url : "/follow/updateFollow.action",
                type :"post",
                dataType : "text",
                data : {
                    id : uid
                },
                success : function (data) {
                    if (data == 1) {
//					    update 第i个的user 的数据 or ....
//                        alert("update " + id + " Follow info ok");
                    }
                }
            });
        }

        function updateFan(id) {
            if (id == undefined || id == 0 ) {
                return ;
            }

            $.ajax({
                url : "/follow/updateFan.action",
                type :"post",
                dataType : "text",
                data : {
                    id : id
                },
                success : function (data) {
                    if (data == 1) {
//					    update 第i个的user 的数据 or ....
//                        alert("update " + id + " Fan info ok");
                    }
                }
            });
        }

        function getSession() {

            $.ajax({
                url : "/user/getSession.action",
                type : "get",
                dataType : "json",
				async : false,
                success : function (data) {
                    if (data != null) {

                        login = true;
                        uid = data.id;
                        username = data.username;
                        info = data.info;

                        $(".logIn").show();
                        $(".logOut").hide();
                    } else {

                        login = false;

                        $(".logIn").hide();
                        $(".logOut").show();
                    }
                },
                error : function (data) {

                    login = false;

                    $(".logIn").hide();
                    $(".logOut").show();

                }
            });

            loadPage();
        }

        function loadPage() {
            $(".profile-edit textarea").val(info);
            $(".description div").text(info);
        }

        
        function getImgUrl(id) {
			
			$.ajax({
				url : "/user/getImgUrl.action",
				type : "get",
				data :{
				    id : id
				},
				success : function (data) {
				    console.log("user img url : " + data);
					$("#img").attr("src" , data);
                }
			});
        }
        
        

//        初始化 user_id 用户的关注/粉丝/文章 以及是否关注
        function init() {

            if (user_id == uid) {
                $(".user-follow-button").hide();
			} else {
                $(".function-btn").hide();
			}

            if (user_id == undefined || user_id == 0) {
                alert("没有user_id");
                return ;
			}


            getImgUrl(user_id);

            $.ajax({
                url : "/user/getUsernameById.action",
                type : "get",
                data : {
                    id : user_id
                },
                dataType : "text",
                success : function (data) {
                    if (data != null || data != undefined) {
                        user_name = data;
                        $(".title a.name").text(data);
                        $(".title a.name").attr("href" , "/html/user_main.html?id=" + user_id);
                    }
                }
            });

			$.ajax({
				url : "/follow/getFollowCount.action",
				type : "get",
				data : {
				    id : user_id
				},
				dataType : "text",
				success : function (data) {
					$(".meta-block:eq(0) p").text(data);
                }
			});

			$.ajax({
                url : "/follow/getFanCount.action",
                type : "get",
                data : {
                    id : user_id
                },
                dataType : "text",
                success : function (data) {
                    $(".meta-block:eq(1) p").text(data);
                }
            });

			$.ajax({
                url : "/article/getArticleCount.action",
                type : "get",
                data : {
                    id : user_id
                },
                dataType : "text",
                success : function (data) {
                    $(".meta-block:eq(2) p").text(data);
                }
            });

            $.ajax({
                url : "/article/getArticleLikeCount.action",
                type : "get",
                data : {
                    id : user_id
                },
                dataType : "text",
                success : function (data) {
                    $(".meta-block:eq(4) p").text(data);
                }
            });

            $.ajax({
                url : "/user/getUserInfoById.action",
                type: "get",
                dataType : "text",
                data : {
                    id : user_id
                },
                success : function (data) {
                    if (data != undefined ) {
                        $(".description div").text(data);
                        $(".profile-edit textarea").val(data);
                    }
                }
            });

            if (uid == undefined || uid == 0 || user_id == uid) {
                return ;
            }


            $.ajax({
                url : "/follow/getFollowed.action",
                type : "get",
                data : {
                    from : uid ,
                    to : user_id
                },
                async : false,
                dataType : "text",
                success: function (data) {
                    if (data == 1) {
                        $(".user-follow-button").removeClass("off");
                        $(".user-follow-button").addClass("on");
                        $(".user-follow-button i").removeClass("icon-plus");
                        $(".user-follow-button i").addClass("icon-ok");
                        $(".user-follow-button span").text("已关注");

                        like = 1;
                    } else {
                        $(".user-follow-button").addClass("off");
                        $(".user-follow-button").removeClass("on");
                        $(".user-follow-button i").addClass("icon-plus");
                        $(".user-follow-button i").removeClass("icon-ok");
                        $(".user-follow-button span").text("关注");

                        like = 0;
                    }
                }
            });
        }

        
        function getAllInfo() {
			if (user_id == undefined) {
			    return ;
			}

			$.ajax({
				url : "/user/getAllInfo.action",
				type : "get",
				data : {
				    id : user_id
				},
				dataType : "json",
				success : function (data) {
				    alert("data.length : " + data.length);

				    if (data == undefined || data.length == 0) {
				        return ;
					}

					$("ul.note-list li").remove();

//					按照时间逆序排序
					data.sort(function (a , b) {
					    return Date.parse(b.time) - Date.parse(a.time);
                    });

                    console.log("all : ");
				    console.log(data);

				    var $cur = $("ul.note-list");
					for (var i in data) {
				        if (data[i].hasOwnProperty("createtime")) {
                            ($("ul.note-list")).append($('<li>\n' +
                                '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].username + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<em>·</em>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>加入了文章创作平台 · ' + data[i].createtime + '</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t</li>'));

				            $cur = $("ul.note-list li:last");

						} else if (data[i].hasOwnProperty("author")) {

				            $('<li class="have-img">\n' +
                                '\t\t\t\t\t\t\t\t\t\t<a href="#" class="wrap-img">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<img src="../img/index0.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].author + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>发表了文章 · ' + data[i].time + '</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' + data[i].title +
                                '\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' + data[i].introduction +
                                '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-eye-open"></i> ' + data[i].readCount + '</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a><i class="icon-comment"></i> ' + data[i].commentCount + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-heart"></i> ' + data[i].likeCount + '</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t</li>').insertBefore($cur);


				            if (data[i].url == null) {
				                $cur.prev().find("a.wrap-img").remove();
				                $cur.prev().find("div.content").removeClass("content");
							} else {
                                $cur.prev().find("a.wrap-img img").attr("src",data[i].url);
							}

						} else if (data[i].hasOwnProperty("depth")) {

				            var aid = data[i].aid;
				            var toInfo = "";

				            if (data[i].commentTo != "" && data[i].commentTo != null && data[i].commentTo != undefined) {

				                toInfo = "<a>@" + data[i].commentTo + "</a> ";

							}

							if (data[i].info == null) {
				                data[i].info = "";
							}


//							以及一个ajax获取文章的内容
							$('<li>\n' +
                                '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].commentFrom + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<em>·</em>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>发表了评论 ·' + data[i].time + ' </span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<p class="comment">\n' + toInfo + data[i].info +
                                '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<blockquote>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t一个土家族80后的家庭简史（1985年——2018年）\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t【 文：李砍柴】 引子 今年四月的时候，母亲给我打电话说，她不在镇上我姐家里住，\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t她回家了。 其实姐姐也是心疼母亲，\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t才接她去镇上，名义上是照看外孙女，其实并没有太多的事。在家里...\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#"></a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a></a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</blockquote>\n' +
                                '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t</li>').insertBefore($cur);

                            //						获取文章信息的ajax
                            $.ajax({
                                url :"/article/getArticleById.action",
                                type:"get",
                                async:false,
                                data : {
                                    id : aid
                                },
                                dataType : "json",
                                success : function (data) {
//							    console.log(data);
//							    alert(data.title + " - " + data.introduction);

                                    $p = $("ul.note-list li:eq(-2)").find("blockquote");
                                    $p.find("a.title").text(data.title);
                                    $p.find("p.abstract").text(data.introduction);
                                    $p.find(".meta a:eq(0)").text(data.author);
                                    $p.find(".meta span:eq(0)").html('<i class="icon-eye-open"></i> ' + data.readCount);
                                    $p.find(".meta a:eq(1)").html('<i class="icon-comment"></i> ' + data.commentCount);
                                    $p.find(".meta span:eq(1)").html('<i class="icon-heart"></i> ' + data.likeCount);
                                }
                            });
						} else if (data[i].hasOwnProperty("uid") && data[i].hasOwnProperty("aid")) {

				            var aid = data[i].aid;

//				            console.log(data[i]);

//				            alert("aid : " + aid);

				            $('<li class="have-img">\n' +
                                '\t\t\t\t\t\t\t\t\t\t<a href="#" class="wrap-img">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<img src="../img/index3.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + user_name + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>喜欢了文章 · ' + data[i].time +'</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a></a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a></a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t</li>').insertBefore($cur);




                            $.ajax({
                                url :"/article/getArticleById.action",
                                type:"get",
                                async:false,
                                data : {
                                    id : aid
                                },
                                dataType : "json",
                                success : function (data) {

                                    $p = $("ul.note-list li:eq(-2)");

                                    if (data.url == null || data.url == "") {
                                        $p.find("a.wrap-img").hide();
                                        $p.find("div:eq(0)").removeClass("content");
									} else {
                                        $p.find("a.wrap-img img").attr("src" , data.url);
									}

                                    $p.find("a.title").text(data.title);
                                    $p.find("p.abstract").text(data.introduction);
                                    $p.find(".meta a:eq(0)").text(data.author);
                                    $p.find(".meta span:eq(0)").html('<i class="icon-eye-open"></i> ' + data.readCount);
                                    $p.find(".meta a:eq(1)").html('<i class="icon-comment"></i> ' + data.commentCount);
                                    $p.find(".meta span:eq(1)").html('<i class="icon-heart"></i> ' + data.likeCount);
                                }
                            });
						} else if (data[i].hasOwnProperty("followFrom")) {

				            var id = data[i].followTo;

				            $('<li>\n' +
                                '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">'+ user_name + '</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<em>·</em>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>关注了作者 · '  + data[i].time + '</span>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t<div class="follow-detail">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/recommed-author1.jpg" />\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="title"></a>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<p>写了 282558 字，被 67166 人关注，获得了 24128 个喜欢</p>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="signature">\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                                '\t\t\t\t\t\t\t\t\t</li>').insertBefore($cur);


				            $.ajax({
								url : "/user/getUserById.action",
								type:"get",
								data : {
								    id : id
								},
								async : false,
								dataType: "json",
								success : function (data) {

								    $p = $("ul.note-list li:eq(-2)").find("div.info");
								    $p.find("a.title").text(data.username);
								    $p.find("p").text("写了 " + data.writeCount + "字，被 " + data.fanCount + " 人关注，获得了 " + data.likeCount + " 个喜欢")
									$p.find(".signature").text(data.info);

                                }
							});
						}



					}
                }
			});
        }


        function getArticleInfo() {
            if (user_id == undefined) {
                return;
            }

            $.ajax({
				url: "/user/getArticleInfo.action",
				type:"get",
				data : {
				    id : user_id
				},
				dataType : "json",
				success : function (data) {
					if (data == null || data.length == 0) {
					    return ;
					}

//					依然按照文章时间逆序排序
                    data.sort(function (a , b) {
                        return Date.parse(b.time) - Date.parse(a.time);
                    });

                    $("ul.note-list li").remove();

                    console.log("article : ");
                    console.log(data);

                    var $cur = $("ul.note-list");
                    for (var i in data) {
                        $cur.append($('<li class="have-img">\n' +
                            '\t\t\t\t\t\t\t\t\t\t<a href="#" class="wrap-img">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<img src="../img/index0.jpg" />\n' +
                            '\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].author + '</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>发表了文章 · ' + data[i].time + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' + data[i].title +
                            '\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' + data[i].introduction +
                            '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-eye-open"></i> ' + data[i].readCount + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a><i class="icon-comment"></i> ' + data[i].commentCount + '</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-heart"></i> ' + data[i].likeCount + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t</li>'));

                        $p = $("ul.note-list li:last");

                        if (data[i].url == null || data[i].url == "" || data[i].url == undefined) {
                            $p.find("a.wrap-img").hide();
                            $p.find("div:eq(0)").removeClass("content");
                        } else {
                            $p.find("a.wrap-img img").attr("src" , data[i].url);
                        }
					}
                }
			});
		}

        function getCommentInfo() {
            if (user_id == undefined) {
                return;
            }

            $.ajax({
                url: "/user/getCommentInfo.action",
                type:"get",
                data : {
                    id : user_id
                },
                dataType : "json",
                success : function (data) {
                    if (data == null || data.length == 0) {
                        return ;
                    }

//					依然按照评论时间逆序排序
                    data.sort(function (a , b) {
                        return Date.parse(b.time) - Date.parse(a.time);
                    });

                    $("ul.note-list li").remove();

                    console.log("comment : ");
                    console.log(data);

                    var $cur = $("ul.note-list");

                    for (var i in data) {

                        var aid = data[i].aid;
                        var toInfo = "";

                        if (data[i].commentTo != "" && data[i].commentTo != null && data[i].commentTo != undefined) {

                            toInfo = "<a>@" + data[i].commentTo + "</a> ";

                        }

                        if (data[i].info == null) {
                            data[i].info = "";
                        }


//							以及一个ajax获取文章的内容
                        $cur.append($('<li>\n' +
                            '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].commentFrom + '</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<em>·</em>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>发表了评论 ·' + data[i].time + ' </span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<p class="comment">\n' + toInfo + data[i].info +
                            '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<blockquote>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#"></a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<a></a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</blockquote>\n' +
                            '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t</li>'));

//						获取文章信息的ajax
                        $.ajax({
                            url :"/article/getArticleById.action",
                            type:"get",
                            async:false,
                            data : {
                                id : aid
                            },
                            dataType : "json",
                            success : function (data) {
//							    console.log(data);
//							    alert(data.title + " - " + data.introduction);

                                $p = $("ul.note-list li:last").find("blockquote");
                                $p.find("a.title").text(data.title);
                                $p.find("p.abstract").text(data.introduction);
                                $p.find(".meta a:eq(0)").text(data.author);
                                $p.find(".meta span:eq(0)").html('<i class="icon-eye-open"></i> ' + data.readCount);
                                $p.find(".meta a:eq(1)").html('<i class="icon-comment"></i> ' + data.commentCount);
                                $p.find(".meta span:eq(1)").html('<i class="icon-heart"></i> ' + data.likeCount);
                            }
                        });
                    }
                }
            });
        }


        function getHotInfo() {
            if (user_id == undefined) {
                return;
            }

            $.ajax({
                url: "/user/getArticleInfo.action",
                type:"get",
                data : {
                    id : user_id
                },
                dataType : "json",
                success : function (data) {
                    if (data == null || data.length == 0) {
                        return ;
                    }

//					依然按照文章热度（暂定： 10* 喜欢数 + 5 * 评论数 + 阅读数）逆序排序
                    data.sort(function (a , b) {
                        var x = parseInt(a.likeCount) * 10 + parseInt(a.commentCount) *5 +  parseInt(a.readCount);
                        var y = parseInt(b.likeCount) * 10 + parseInt(b.commentCount) *5 +  parseInt(b.readCount);

                        return y - x;
                    });

                    $("ul.note-list li").remove();

                    console.log("hot : ");
                    console.log(data);

                    var $cur = $("ul.note-list");
                    for (var i in data) {
                        $cur.append($('<li class="have-img">\n' +
                            '\t\t\t\t\t\t\t\t\t\t<a href="#" class="wrap-img">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<img src="../img/index0.jpg" />\n' +
                            '\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t<div class="content">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<div class="author">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a class="avatar" href="#">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="../img/profile.jpg" />\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<div class="info">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">' + data[i].author + '</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t\t<span>发表了文章 · ' + data[i].time + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<a class="title" href="#">\n' + data[i].title +
                            '\t\t\t\t\t\t\t\t\t\t\t</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<p class="abstract">\n' + data[i].introduction +
                            '\t\t\t\t\t\t\t\t\t\t\t</p>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t<div class="meta">\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-eye-open"></i> ' + data[i].readCount + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<a><i class="icon-comment"></i> ' + data[i].commentCount + '</a>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t\t<span><i class="icon-heart"></i> ' + data[i].likeCount + '</span>\n' +
                            '\t\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t\t</div>\n' +
                            '\t\t\t\t\t\t\t\t\t</li>'));

                        $p = $("ul.note-list li:last");

                        if (data[i].url == null || data[i].url == "" || data[i].url == undefined) {
                            $p.find("a.wrap-img").hide();
                            $p.find("div:eq(0)").removeClass("content");
                        } else {
                            $p.find("a.wrap-img img").attr("src" , data[i].url);
                        }
                    }
                }
            });
        }

        function enterPress() {
            if (event.keyCode == 13 ) {
                var text = $(".search-input").val();

                $.ajax({
                    url : "/search/searchInsert.action",
                    type : "post",
                    async : false,
                    data :{
                        info : text ,
                        id : uid
                    }
                });

                if (text != undefined && text != "") {
                    location.href = "/html/search-article.html?text=" + text;
                }
            }
        }


		$(function () {



            getSession();

            if (window.location.search.indexOf("user_id") != -1) {
                user_id = location.search.substring(location.search.indexOf("=")+1);
                alert("user_id " + user_id);
            }

            if (user_id != uid) {
                $(".file-container").hide();
            }

            if (uid != undefined) {
                $.ajax({
                    url : "/user/getImgUrl.action",
                    type : "get",
                    data :{
                        id : uid
                    },
                    success : function (data) {
                        console.log("nav img url : " + data);
                        $("#navImg").attr("src" , data);
                    }
                });
			}

            init();

            getAllInfo();

            $("#logout-btn").click(function () {

//			    强制刷新重新获取session数据，防止多个浏览器窗口一个退出，其他未退出的情况
                getSession();

                if (login == true) {
                    window.location = "/user/logout.action";
                }
            });
            
            $(".function-btn").click(function () {
				$("form.profile-edit").toggle();
				$(".description").toggle();
            });

            $("#info-btn").click(function () {
				var text = $(".profile-edit textarea").val();
				if (text == info) {
                    $("form.profile-edit").hide();
                    $(".description").show();
				} else {
				    $.ajax({
						url : "/user/setInfo.action",
						type : "post",
						dataType : "text",
						async : false,
						data : {
						    id : uid,
							info : text
						},
						success : function (data) {
							if (data == 1) {
                                $("form.profile-edit").hide();
                                $(".description").show();

                                getSession();
							} else {
							    alert("修改info出错");
							}
                        }
					});
				}
            });
            
            $("#cancel-btn").click(function () {
                $("form.profile-edit").hide();
                $(".description").show();
            });

            $(".user-follow-button").click(function () {

                if (uid == undefined) {
                    alert("请登录啊！！！");
                    return ;
				}

				if (user_id == undefined) {
                    alert("没有user_id ！！！");
                    return ;
				}

				if (like == 0) {

				    $.ajax({
						url : "/follow/like.action",
						type : "post",
                        async : false,
						dataType : "text",
						data : {
						    from : uid,
							to : user_id
						},
						success : function (data) {
							if (data == 1) {
                                $(".user-follow-button").removeClass("off");
                                $(".user-follow-button").addClass("on");
                                $(".user-follow-button i").removeClass("icon-plus");
                                $(".user-follow-button i").addClass("icon-ok");
                                $(".user-follow-button span").text("已关注");

                                like = 1;
							} else {
							    alert("喜欢" + user_id + " 失败");
							}
                        }
					});

				} else {
                    $.ajax({
                        url : "/follow/unlike.action",
                        type : "post",
                        async : false,
                        dataType : "text",
                        data : {
                            from : uid,
                            to : user_id
                        },
                        success : function (data) {
                            if (data == 1) {
                                $(".user-follow-button").addClass("off");
                                $(".user-follow-button").removeClass("on");
                                $(".user-follow-button i").addClass("icon-plus");
                                $(".user-follow-button i").removeClass("icon-ok");
                                $(".user-follow-button span").text("关注");

                                like = 0;
                            } else {
                                alert("不喜欢" + user_id + " 失败");
                            }
                        }
                    });
				}

                updateFan(user_id);
				updateFollow();
            });

            $(".trigger-menu li").click(function () {
                var type = $(this).data("type");

                if (user_id == undefined) {
                    return ;
                }


                alert(type);

                if (type == cur_type){
                	return false;
                }


                if (type == "article") {
                    getArticleInfo();
                } else if (type == "all") {
                    getAllInfo();
                } else if (type == "comment") {
                    getCommentInfo();
                } else if (type == "hot") {
                    getHotInfo();
                }

            	cur_type = type;

                $(this).addClass("active");
                $(this).siblings("li").removeClass("active");
            });


            $(".search-btn").click(function () {
                var text = $(".search-input").val();

                $.ajax({
                    url : "/search/searchInsert.action",
                    type : "post",
                    async : false,
                    data :{
                        info : text ,
                        id : uid
                    }
                });

                if (text != undefined && text != "") {
                    location.href = "/html/search-article.html?text=" + text;
                }
            });



            $("#file").change(function () {
                var file = $('#file')[0].files[0];

                // 判断文件是否为空
                if($("#file").val() == ""){
                    alert("请上传文件");
                    return ;
                }

                var formdata = new FormData();

                formdata.append("file" , file);

//                利用type来判断是用户头像还是文章图片
                formdata.append("type" , "user");
				formdata.append("id" , uid);


//				java端对filename再进行判重和修改
                var suffix =$("#file").val().substring($("#file").val().indexOf(".")+1).toUpperCase();
                if(suffix != "JPG" && suffix != "BMP" && suffix != "JPEG" && suffix != "PNG" && suffix != "GIF"){
                    alert("请上传图片格式的文件");
                    return ;
                }
                console.log(formdata);



                $.ajax({
                    url :   '/user/upload.action',
                    data : formdata,
                    type : "POST" ,
                    dataType : "text",
					async : false,
                    processData : false,
                    contentType : false,
                    success : function (data) {
                        if (data == 1) {
                            alert("上传图片成功");
                        }

                        getImgUrl(user_id);

                    }

                });
            });
        });

	</script>
	<body>


	<!--导航栏部分-->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation" style="background-color: #FFFFFF; font-size: 20px; ">
		<div class="navbar-header" style="margin-left: 50px; width: 300px;" >
			<!--version 1  ： 一个LOGO -->
			<a href="/index.action" class="navbar-brand" style="font-size: 25px; color: #ea6f5a; font-family:'微软雅黑' ;">文章创作交流网站</a>

		</div>

		<ul class="nav navbar-nav">
			<!--<li class="active"><a href="#">hah1</a></li>-->
			<li><a href="/index.action"><i class="icon-home"></i>首页</a></li>
			<li class="logIn"><a href="/user_main.action"><i class="icon-bell-alt"></i>消息</a></li>
			<li class="logIn"><a href="/followFan.action"><i class="icon-file"></i>关注</a></li>
		</ul>


		<form onkeydown="enterPress()" onclick="return false;" onsubmit="return false;" class="navbar-form navbar-left">

			<!--version 1-->
			<!--<div class="form-group">
                <input type="text" class="form-control" placeholder="搜索" />
                <button type="submit" class="btn btn-default">搜索</button>
            </div>-->

			<!--version 2 搜索框 + icon-->
			<!--<div class="form-group">
                <input type="text" class="form-control" placeholder="搜索" />
                <a href="#"><i class="icon-search"></i></a>
            </div>-->

			<!--version 3 搜索框里 包含icon -->
			<div class="input-group">
				<input type="text" class="search-input" placeholder="搜索"  />
				<a class="search-btn" >
					<i class="icon-search"></i>
				</a>
			</div>
		</form>


		<ul class="nav navbar-nav navbar-right">
			<li class="logOut"><a class="log-in" href="/login.action">登录</a></li>

			<li class="logOut"><a class="btn sign-up" href="/register.action" style="color:#ec6149 ;">注册</a></li>

			<li class="dropdown logIn">
				<a class="dropdown-toggle"  data-toggle="dropdown" style="padding: 5px 15px" >
					<img id="navImg" src="../img/profile.jpg" class="img-circle" width="40px" height="40px">
					<span class="caret"></span>
				</a>

				<ul class="dropdown-menu" style="position: absolute; left: 0px; top: 50px; font-size: 17px;">
					<li style="padding: 5px 20px 5px 0px;"><a href="/user_main.action"><i class="icon-user"></i>我的主页</a></li>
					<li style="padding: 5px 20px 5px 0px;"><a href="user_main.html"><i class="icon-heart"></i>喜欢的文章</a></li>
					<li style="padding: 5px 20px 5px 0px;"><a href="help.html"><i class="icon-wrench"></i>帮助与反馈</a></li>
					<li style="padding: 5px 20px 5px 0px;"><a id="logout-btn" ><i class="icon-signout"></i>退出</a></li>
				</ul>

			</li>
			<!--<li><img src="img/调档函.JPG" class="img-circle" width="40px" height="40px" style="margin-top: 5px;"></li>-->
			<!--<li><a href="#">123</a></li>-->


			<!--版本一 ： 直接一个写文章的li-->
			<!--<li style="margin-right: 80px;"><a href="#"><i class="icon-pencil"></i>写文章</a></li>-->

			<!--版本二： 拿button封装起来的写文章，且自带红色背景-->
			<li style="margin-right: 80px;">
				<a href="#" class="write-block" style="padding-top: 5px; padding-bottom: 5px;">
					<button class="btn write-btn">
						<i class="icon-pencil"></i>写文章
					</button>
				</a>
			</li>
		</ul>

	</div>


	<div style="margin-top: 70px;">
		
			<div class="container" style="padding-left: 200px; padding-right: 130px;">
				
				<div class="row">
					<div class="col-md-8" >
						<div class="main-top">
							<a class="avatar" href="#">
								<img id="img" src="../img/profile.jpg" />
							</a>

							<button id="user-follow-btn" class="off user-follow-button">
								<i class="icon-plus"></i>
								<span>关注</span>
							</button>

							<!--<button class="on user-follow-button">-->
							<!--<i class="icon-ok"></i>-->
							<!--<span>已关注</span>-->

							<!--&lt;!&ndash;<i class="icon-remove"></i>-->
							<!--<span>取消关注</span>&ndash;&gt;-->
							<!--</button>-->

							<div class="title">
								<a class="name" href="#"></a>
                                <div class="file-container" style="display:inline-block;position:relative;overflow: hidden;vertical-align:middle">
                                    <button class="btn btn-success" type="button">上传图片</button>
                                    <input type="file" id="file" style="position:absolute;top:0;left:0;font-size:34px; opacity:0">
                                </div>
							</div>
							<div class="info">
								<ul>
									<li>
										<div class="meta-block">
											<a href="#">
												<p>1</p>
												关注&nbsp;<i class="icon-angle-right"></i>
											</a>
										</div>
									</li>
									
									<li>
										<div class="meta-block">
											<a href="#">
												<p>2</p>
												粉丝&nbsp;<i class="icon-angle-right"></i>
											</a>
										</div>
									</li>
									
									<li>
										<div class="meta-block">
											<a href="#">
												<p>0</p>
												文章&nbsp;<i class="icon-angle-right"></i>
											</a>
										</div>
									</li>
									
									<li>
										<div class="meta-block">
											<a href="#">
												<p>0</p>
												字数
											</a>
										</div>
									</li>
									
									<li>
										<div class="meta-block">
											<p>2</p>
											收藏喜欢
										</div>
									</li>
								</ul>
							</div>
						</div>
						
						<div class="outer-container">
							<ul class="trigger-menu">
								<li data-type="article">
									<a>
										<i class="icon-file"></i>
										文章
									</a>
								</li>
								
								
								<li data-type="all" class="active">
									<a>
										<i class="icon-bell-alt"></i>
										动态
									</a>
								</li>
								
								<li data-type="comment">
									<a>
										<i class="icon-comments"></i>
										最新评论
									</a>
								</li>
								
								<li data-type="hot">
									<a>
										<i class="icon-star"></i>
										热门
									</a>
								</li>
							</ul>
							
							<div>
								<ul class="note-list">
									
									<li>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<em>·</em>
													<span>赞了评论 · 2019.04.15</span>
												</div>
											</div>
											<p class="comment">
												写得真好啊👏👏👏👏👏👏👏读起来一把心酸一把泪。我妈也常常跟我讲她小时候的事。
												她那时十四五岁常常背四五十斤的煤炭从很远的地方回家，晚上和我舅舅就在桔子林里守到八九点，防止别的人偷。
												<br />
												我外公喜欢喝酒，从我妈妈的描述里大概也知道也是一个在村子里很威风的人，他是打铁的。
												也有些大男子主义，但我外婆也不简单，有时他们两个意见不合，我外婆就和他吵起来。
												<br />
												外公去世的时候了，家里没钱了，妈妈就没能上初中，而舅舅呢，听说打都打不去的。
												这也就是那句，有心无命，有命无心了。
											</p>
											<blockquote>
												<div class="single-line">
													<a href="#">萧萧梅</a>
													<span>
														评论自
														<a href="#">一个土家族80后的家庭简史（1985年——2018年）</a>
													</span>
												</div>
											</blockquote>
										</div>
									</li>
									
									
									<li>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<em>·</em>
													<span>发表了评论 · 2019.04.15</span>
												</div>
											</div>
											<p class="comment">
												很受启发，感谢
											</p>
											<blockquote>
												<a class="title" href="#">
													一个土家族80后的家庭简史（1985年——2018年）
												</a>
												<p class="abstract">
													【 文：李砍柴】 引子 今年四月的时候，母亲给我打电话说，她不在镇上我姐家里住，
													她回家了。 其实姐姐也是心疼母亲，
													才接她去镇上，名义上是照看外孙女，其实并没有太多的事。在家里...
												</p>
												<div class="meta">
													<a href="#">李砍柴</a>
													<span><i class="icon-eye-open"></i>191</span>
													<a><i class="icon-comment"></i>121</a>
													<span><i class="icon-heart"></i>101</span>
												</div>
											</blockquote>
										</div>
									</li>

									
									<li>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<em>·</em>
													<span>关注了作者 · 2019.04.15 13:15</span>
												</div>
											</div>
											<div class="follow-detail">
												<div class="info">
													<a class="avatar">
														<img src="../img/profile.jpg" />
													</a>
													<a class="btn btn-default following">
														<i class="icon-ok"></i>
														<span>已关注</span>
														
															
														<!--hover-->
														<!--<i class="icon-remove"></i>
														<span>取消关注</span>-->
														
													</a>
													<a class="title">梅拾璎</a>
													<p>写了 282558 字，被 67166 人关注，获得了 24128 个喜欢</p>
													<div class="signature">
														打马跃青山，长河扬其波 。     爱皎月清风，恋人间烟火
														文章均为原创。版权合作事宜请联系行距文化：pub@hangju-pub.com
													</div>
												</div>
											</div>
										</div>
									</li>


									<!--喜欢文章 无图版-->
									<li class="have-img">
										<a href="#" class="wrap-img">
											<img src="../img/profile.jpg" />
										</a>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<span>喜欢了文章 · 2019.04.09 21:46</span>
												</div>
											</div>
											<a class="title" href="#">
												纳兰词：一往而情深，醉里何知岁月年华？
											</a>
											<p class="abstract">
												1. 人生若只如初见，何事秋风悲画扇？等闲变却故人心，却道故人心易变。——《木兰花·拟古决绝词柬友》
												2. 我是人间惆怅客，知君何事泪纵横。断肠声里忆平生。——《浣溪沙》 3...
											</p>
											<div class="meta">
												<a>nickname</a>
												<span><i class="icon-eye-open"></i>191</span>
												<a><i class="icon-comment"></i>121</a>
												<span><i class="icon-heart"></i>101</span>
											</div>
										</div>
									</li>
									
									<li class="have-img">
										<a href="#" class="wrap-img">
											<img src="../img/profile.jpg" />
										</a>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<span>喜欢了文章 · 2019.04.09 21:46</span>
												</div>
											</div>
											<a class="title" href="#">
												纳兰词：一往而情深，醉里何知岁月年华？
											</a>
											<p class="abstract">
												1. 人生若只如初见，何事秋风悲画扇？等闲变却故人心，却道故人心易变。——《木兰花·拟古决绝词柬友》 
												2. 我是人间惆怅客，知君何事泪纵横。断肠声里忆平生。——《浣溪沙》 3...
											</p>
											<div class="meta">
												<a>nickname</a>
												<span><i class="icon-eye-open"></i>191</span>
												<a><i class="icon-comment"></i>121</a>
												<span><i class="icon-heart"></i>101</span>
											</div>
										</div>
									</li>
									
									<li class="have-img">
										<a href="#" class="wrap-img">
											<img src="../img/profile.JPG" />
										</a>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<span>喜欢了文章 · 2019.04.09 21:46</span>
												</div>
											</div>
											<a class="title" href="#">
												纳兰词：一往而情深，醉里何知岁月年华？
											</a>
											<p class="abstract">
												1. 人生若只如初见，何事秋风悲画扇？等闲变却故人心，却道故人心易变。——《木兰花·拟古决绝词柬友》 
												2. 我是人间惆怅客，知君何事泪纵横。断肠声里忆平生。——《浣溪沙》 3...
											</p>
											<div class="meta">
												<a>nickname</a>
												<span><i class="icon-eye-open"></i>191</span>
												<a><i class="icon-comment"></i>121</a>
												<span><i class="icon-heart"></i>101</span>
											</div>
										</div>
									</li>
									
									
									<li class="have-img">
										<a href="#" class="wrap-img">
											<img src="../img/profile.jpg" />
										</a>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<span>喜欢了文章 · 2019.04.09 21:46</span>
												</div>
											</div>
											<a class="title" href="#">
												纳兰词：一往而情深，醉里何知岁月年华？
											</a>
											<p class="abstract">
												1. 人生若只如初见，何事秋风悲画扇？等闲变却故人心，却道故人心易变。——《木兰花·拟古决绝词柬友》 
												2. 我是人间惆怅客，知君何事泪纵横。断肠声里忆平生。——《浣溪沙》 3...
											</p>
											<div class="meta">
												<a>nickname</a>
												<span><i class="icon-eye-open"></i>191</span>
												<a><i class="icon-comment"></i>121</a>
												<span><i class="icon-heart"></i>101</span>
											</div>
										</div>
									</li>

									<li>
										<div class="content">
											<div class="author">
												<a class="avatar" href="#">
													<img src="../img/profile.jpg" />
												</a>
												<div class="info">
													<a href="#">OrzcO</a>
													<em>·</em>
													<span>加入了简书 · 2019.04.15</span>
												</div>
											</div>
										</div>
									</li>
								</ul>
							</div>
						
						</div>
					</div>
					
					
					
					<div class="col-md-3 col-md-offset-1 aside">
						<div class="title">
							个人介绍
						</div>
						<a class="function-btn" href="#">
							<i class="icon-pencil"></i>&nbsp;编辑
						</a>
						<form class="profile-edit" style="display: none" onclick="return false;">
							<textarea>=w=</textarea>
							<input type="submit" value="提交" id="info-btn" class="btn btn-hollow" />
							<a id="cancel-btn" href="#">取消</a>
						</form>
						<div class="description" >
							<div class="js-intro">
								<!--=w=-->
								...
							</div>
						</div>
						
						<ul class="list">
							<li>
								<a href="#">
									<i class="icon-heart-empty"></i>
									<span>我喜欢的文章</span>
								</a>
							</li>
							
							<li>
								<a href="#">
									<i class="icon-heart-empty"></i>
									<span>我喜欢的文章</span>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			
		
	
	</div>
	</body>
</html>
